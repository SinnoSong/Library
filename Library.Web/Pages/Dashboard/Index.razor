@page "/dashboard"

<GridContent>
    <Row Type="flex" Gutter="24">
        <AntDesign.Col Xs="24" Sm="12" Md="12" Lg="12" Xl="6" Style="margin-bottom: 24px;">
            <Card>
                <span>最近30天借阅数量</span>
                <MiniArea/>
            </Card>
        </AntDesign.Col>
        <AntDesign.Col Xl="16" Lg="12" Md="12" Sm="24" Xs="24">
            <AntDesign.Charts.Column Data="@DataItems" Config="_saleChartConfig"/>
        </AntDesign.Col>
        <AntDesign.Col Xl="8" Lg="12" Md="12" Sm="24" Xs="24">
            <div class="salesRank">
                <h1 class="rankingTitle">
                    一年内统计数据
                </h1>
                <ul class="rankingList">
                    @foreach (var item in Items)
                    {
                        <li key="@item.Title">
                            <span class="rankingItemNumber @(item.Rank <= 3 ? "active" : "")">
                                @item.Rank
                            </span>
                            <span class="rankingItemTitle" title="@item.Title">
                                @item.Title
                            </span>
                            <span class="rankingItemValue">
                                @item.Total
                            </span>
                        </li>
                    }
                </ul>
            </div>
        </AntDesign.Col>
    </Row>
</GridContent>

@code {

    private readonly ColumnConfig _saleChartConfig = new ColumnConfig
    {
        Title = new AntDesign.Charts.Title
        {
            Visible = true,
            Text = "Stores Sales Trend"
        },
        ForceFit = true,
        Padding = "auto",
        XField = "x",
        YField = "y"
    };

    private IChartComponent _saleChart;

    private RecordRank[] Items { get; } =
        {
            new RecordRank {Rank = 1, Title = "Gongzhuan No.0 shop", Total = "323,234"},
            new RecordRank {Rank = 2, Title = "Gongzhuan No.1 shop", Total = "323,234"},
            new RecordRank {Rank = 3, Title = "Gongzhuan No.2 shop", Total = "323,234"},
            new RecordRank {Rank = 4, Title = "Gongzhuan No.3 shop", Total = "323,234"},
            new RecordRank {Rank = 5, Title = "Gongzhuan No.4 shop", Total = "323,234"},
            new RecordRank {Rank = 6, Title = "Gongzhuan No.5 shop", Total = "323,234"},
            new RecordRank {Rank = 7, Title = "Gongzhuan No.6 shop", Total = "323,234"}
        };

    private ChartDataItem[] DataItems = new ChartDataItem[]
    {
        new ChartDataItem {X = "1", Y = 1},
        new ChartDataItem {X = "1", Y = 2},
        new ChartDataItem {X = "1", Y = 3},
        new ChartDataItem {X = "1", Y = 4},
        new ChartDataItem {X = "1", Y = 5},
        new ChartDataItem {X = "1", Y = 6},
        new ChartDataItem {X = "1", Y = 7},
        new ChartDataItem {X = "1", Y = 8},
        new ChartDataItem {X = "1", Y = 9},
        new ChartDataItem {X = "1", Y = 10},
        new ChartDataItem {X = "1", Y = 11},
        new ChartDataItem {X = "1", Y = 12},
    };

    protected override async Task OnInitializedAsync()
    {
        await base.OnInitializedAsync();
    // todo 调用接口获取数据
    }

}